-- phpMiniAdmin dump 1.9.210705
-- Datetime: 2023-03-14 00:09:46
-- Host: 
-- Database: umotors_internal

/*!40030 SET NAMES utf8mb4 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;

DROP TABLE IF EXISTS `dealerstats`;
CREATE TABLE `dealerstats` (
  `EmployeeId` int DEFAULT NULL,
  `SalesDate` date DEFAULT NULL,
  `AutoSold` varchar(100) DEFAULT NULL,
  `Sales` int DEFAULT NULL,
  `VIN` varchar(25) DEFAULT NULL,
  KEY `EmployeeId` (`EmployeeId`),
  KEY `VIN` (`VIN`),
  CONSTRAINT `dealerstats_ibfk_1` FOREIGN KEY (`EmployeeId`) REFERENCES `useraccounts` (`EmployeeID`),
  CONSTRAINT `dealerstats_ibfk_2` FOREIGN KEY (`VIN`) REFERENCES `inventory` (`VIN`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

/*!40000 ALTER TABLE `dealerstats` DISABLE KEYS */;
INSERT INTO `dealerstats` VALUES ('1001','2023-01-24','JEEP WRANGLER','25000','1G1AS18H897131396'),('1001','2023-01-12','GMC YUKON','20000','1GNFK36Y39R225581'),('1003','2023-01-12','DODGE CHARGER','21900','1B7GG22N2YS509392'),('1002','2023-01-02','VOLKSWAGEN JETTA','23000','3VWLL7AJ7EM419484'),('1004','2023-01-28','DODGE RAM','37090','3C6UR5FJ1EG114572'),('1005','2023-01-02','JEEP CHEROKEE','50000','4T1BF1FK1DU679213'),('1004','2023-01-06','JEEP WRANGLER','15000','JTKDE167390297719'),('1003','2023-01-06','MITSUBISHI LANCER','20000','2HNYD2H26CH509996'),('1002','2023-01-09','JEEP WRANGLER','20000','WAUGFAFCXFN021872'),('1005','2023-01-12','MITSUBISHI','22000','1FAFP446X4F206981');
/*!40000 ALTER TABLE `dealerstats` ENABLE KEYS */;

DROP TABLE IF EXISTS `employee_five_sales`;
CREATE ALGORITHM=UNDEFINED DEFINER=`UMotors_Internal`@`%` SQL SECURITY DEFINER VIEW `employee_five_sales` AS select `useraccounts`.`LastName` AS `LastName`,count(`dealerstats`.`EmployeeId`) AS `NumSold`,sum(`dealerstats`.`Sales`) AS `TotalSales` from (`dealerstats` join `useraccounts` on((`dealerstats`.`EmployeeId` = `useraccounts`.`EmployeeID`))) where (`dealerstats`.`EmployeeId` = '1005');

DROP TABLE IF EXISTS `employee_four_sales`;
CREATE ALGORITHM=UNDEFINED DEFINER=`UMotors_Internal`@`%` SQL SECURITY DEFINER VIEW `employee_four_sales` AS select `useraccounts`.`LastName` AS `LastName`,count(`dealerstats`.`EmployeeId`) AS `NumSold`,sum(`dealerstats`.`Sales`) AS `TotalSales` from (`dealerstats` join `useraccounts` on((`dealerstats`.`EmployeeId` = `useraccounts`.`EmployeeID`))) where (`dealerstats`.`EmployeeId` = '1004');

DROP TABLE IF EXISTS `employee_one_sales`;
CREATE ALGORITHM=UNDEFINED DEFINER=`UMotors_Internal`@`%` SQL SECURITY DEFINER VIEW `employee_one_sales` AS select `useraccounts`.`LastName` AS `LastName`,count(`dealerstats`.`EmployeeId`) AS `NumSold`,sum(`dealerstats`.`Sales`) AS `TotalSales` from (`dealerstats` join `useraccounts` on((`dealerstats`.`EmployeeId` = `useraccounts`.`EmployeeID`))) where (`dealerstats`.`EmployeeId` = '1001');

DROP TABLE IF EXISTS `employee_three_sales`;
CREATE ALGORITHM=UNDEFINED DEFINER=`UMotors_Internal`@`%` SQL SECURITY DEFINER VIEW `employee_three_sales` AS select `useraccounts`.`LastName` AS `LastName`,count(`dealerstats`.`EmployeeId`) AS `NumSold`,sum(`dealerstats`.`Sales`) AS `TotalSales` from (`dealerstats` join `useraccounts` on((`dealerstats`.`EmployeeId` = `useraccounts`.`EmployeeID`))) where (`dealerstats`.`EmployeeId` = '1003');

DROP TABLE IF EXISTS `employee_two_sales`;
CREATE ALGORITHM=UNDEFINED DEFINER=`UMotors_Internal`@`%` SQL SECURITY DEFINER VIEW `employee_two_sales` AS select `useraccounts`.`LastName` AS `LastName`,count(`dealerstats`.`EmployeeId`) AS `NumSold`,sum(`dealerstats`.`Sales`) AS `TotalSales` from (`dealerstats` join `useraccounts` on((`dealerstats`.`EmployeeId` = `useraccounts`.`EmployeeID`))) where (`dealerstats`.`EmployeeId` = '1002');

DROP TABLE IF EXISTS `inorder`;
CREATE ALGORITHM=UNDEFINED DEFINER=`UMotors_Internal`@`%` SQL SECURITY DEFINER VIEW `inorder` AS select `inventory`.`Year` AS `Year`,`inventory`.`Make` AS `Make`,`inventory`.`Model` AS `Model`,`inventory`.`Color` AS `Color`,`inventory`.`Price` AS `Price`,`inventory`.`NewOrUsed` AS `NewOrUsed`,`inventory`.`SoldOrInStock` AS `SoldOrInStock`,`inventory`.`Doors` AS `Doors`,`inventory`.`Miles` AS `Miles`,`inventory`.`Body` AS `Body`,`inventory`.`VIN` AS `VIN` from `inventory` order by `inventory`.`SoldOrInStock`,`inventory`.`Year`;

DROP TABLE IF EXISTS `inventory`;
CREATE TABLE `inventory` (
  `Year` int DEFAULT NULL,
  `Make` varchar(30) DEFAULT NULL,
  `Model` varchar(30) DEFAULT NULL,
  `Color` varchar(30) DEFAULT NULL,
  `Price` int DEFAULT NULL,
  `NewOrUsed` varchar(30) DEFAULT NULL,
  `SoldOrInStock` varchar(30) DEFAULT NULL,
  `Doors` int DEFAULT NULL,
  `Miles` int DEFAULT NULL,
  `Body` varchar(30) DEFAULT NULL,
  `VIN` varchar(25) NOT NULL,
  PRIMARY KEY (`VIN`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

/*!40000 ALTER TABLE `inventory` DISABLE KEYS */;
INSERT INTO `inventory` VALUES ('2023','CHEVROLET','CAMARO','Black','55000','New','In Stock','4','10','Sedan','1B4GP44322B623954'),('2008','DODGE','CHARGER','Blue','21900','Used','Sold','4','101434','SEDAN','1B7GG22N2YS509392'),('2010','MITSUBISHI','LANCER','White','22000','Used','Sold','4','90000','Sport','1FAFP446X4F206981'),('2023','JEEP','WRANGLER','Navy Blue','55000','New','Sold','4','25','SUV','1G1AS18H897131396'),('2023','CADILLAC','CT5','Silver','38195','New','In Stock','4','16','Sedan','1G6DM577240185165'),('2003','CHEVROLET','TRAILBLAZER','RED','15000','Used','In Stock','4','60000','SUV','1GNDT13S132123947'),('2009','GMC','YUKON','TAN','20000','Used','Sold','4','97353','SUV','1GNFK36Y39R225581'),('2023','HONDA','CIVIC HATCHBACK','BLUE','29500','NEW','Stock','4','17','Sport','1J4PN5GK8AW139841'),('2008','JEEP','WRANGLER','Black','12000','New','In Stock','2','120000','SUV','1J8GA59198L640523'),('2009','MITSUBISHI','LANCER','White','20000','Used','Sold','4','120000','Sport','2HNYD2H26CH509996'),('2023','DODGE','RAM','RED','37090','New','Sold','4','50','Truck','3C6UR5FJ1EG114572'),('2009','NISSAN','ALTIMA SE','BLUE','5000','Used','In Stock','2','136000','SPORT','3GYFNCEY2AS550705'),('2023','VOLKSWAGEN','JETTA','GRAY','23000','New','Sold','4','0','SEDAN','3VWLL7AJ7EM419484'),('2023','JEEP','CHEROKEE','Black','54000','New','Sold','4','0','SPORT SUV','4T1BF1FK1DU679213'),('2002','HONDA','CIVIC','NAVY','19010','Used','In Stock','2','123456','Coupe','5FNRL18042B010544'),('2009','MITSUBISHI','LANCER','White','23250','Used','In Stock','4','111000','Sport','JA3AU26U19U007395'),('2009','LEXUS','LS','Black','25000','Used','In Stock','4','60000','Sedan','JTHCL46F495001531'),('2023','MERCEDES-BENZ','SLK','Black','70000','NEW','In Stock','4','10','LUXURY SEDAN','JTJBT20X360101645'),('2008','JEEP','WRANGLER','Black','15000','Used','Sold','2','95000','SUV','JTKDE167390297719'),('2012','JEEP','WRANGLER','Blue','20000','Used','Sold','4','80000','SUV','WAUGFAFCXFN021872'),('1998','MERCEDES-BENZ','SLK','Silver','50000','Used','In Stock','2','80000','Sedan','WDBKK47F2WF031968');
/*!40000 ALTER TABLE `inventory` ENABLE KEYS */;

DROP TABLE IF EXISTS `monthlyjan`;
CREATE ALGORITHM=UNDEFINED DEFINER=`UMotors_Internal`@`%` SQL SECURITY DEFINER VIEW `monthlyjan` AS select sum(`dealerstats`.`Sales`) AS `WeeklySales`,count(`dealerstats`.`AutoSold`) AS `TotalNumOfAutoSold` from `dealerstats` where (`dealerstats`.`SalesDate` between '2023-01-01' and '2023-01-31');

DROP TABLE IF EXISTS `useraccounts`;
CREATE TABLE `useraccounts` (
  `EmployeeID` int NOT NULL,
  `LastName` varchar(30) DEFAULT NULL,
  `FirstName` varchar(30) DEFAULT NULL,
  `Email` varchar(30) DEFAULT NULL,
  `Password` varchar(8) DEFAULT NULL,
  `Position` varchar(30) DEFAULT NULL,
  `Salary` int DEFAULT NULL,
  `CommissionRate` decimal(4,2) DEFAULT NULL,
  PRIMARY KEY (`EmployeeID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

/*!40000 ALTER TABLE `useraccounts` DISABLE KEYS */;
INSERT INTO `useraccounts` VALUES ('1000','Davila','Jose','davilaj05@mymail.sxu.edu','Passwrd1','Manager','100000','0.00'),('1001','Chavez','Yadira','YadiC24@mymail.sxu.edu','Passwrd2','Sales Associate','75000','20.00'),('1002','Davila','Angie','davilaAng21@mymail.sxu.edu','Passwrd3','Sales Associate','75000','20.00'),('1003','Parker','May','Mayday0128@gmail.com','Passwrd4','Sales Associate','60000','15.00'),('1004','Villa','Zima','Zimamotors07@gmail.com','Passwrd5','Sales Associate','60000','15.00'),('1005','Wick','John','MrWick01050@mymail.sxu.edu','Passwrd6','Assistant Manager','85000','0.00');
/*!40000 ALTER TABLE `useraccounts` ENABLE KEYS */;

DROP TABLE IF EXISTS `w_s_jan17_jan24`;
CREATE ALGORITHM=UNDEFINED DEFINER=`UMotors_Internal`@`%` SQL SECURITY DEFINER VIEW `w_s_jan17_jan24` AS select sum(`dealerstats`.`Sales`) AS `WeeklySales`,count(`dealerstats`.`AutoSold`) AS `TotalNumOfAutoSold` from `dealerstats` where (`dealerstats`.`SalesDate` between '2023-01-17' and '2023-01-24');

DROP TABLE IF EXISTS `w_s_jan1_jan8`;
CREATE ALGORITHM=UNDEFINED DEFINER=`UMotors_Internal`@`%` SQL SECURITY DEFINER VIEW `w_s_jan1_jan8` AS select sum(`dealerstats`.`Sales`) AS `WeeklySales`,count(`dealerstats`.`AutoSold`) AS `TotalNumOfAutoSold` from `dealerstats` where (`dealerstats`.`SalesDate` between '2023-01-01' and '2023-01-08');

DROP TABLE IF EXISTS `w_s_jan25_jan31`;
CREATE ALGORITHM=UNDEFINED DEFINER=`UMotors_Internal`@`%` SQL SECURITY DEFINER VIEW `w_s_jan25_jan31` AS select sum(`dealerstats`.`Sales`) AS `WeeklySales`,count(`dealerstats`.`AutoSold`) AS `TotalNumOfAutoSold` from `dealerstats` where (`dealerstats`.`SalesDate` between '2023-01-25' and '2023-01-31');

DROP TABLE IF EXISTS `w_s_jan9_jan16`;
CREATE ALGORITHM=UNDEFINED DEFINER=`UMotors_Internal`@`%` SQL SECURITY DEFINER VIEW `w_s_jan9_jan16` AS select sum(`dealerstats`.`Sales`) AS `WeeklySales`,count(`dealerstats`.`AutoSold`) AS `TotalNumOfAutoSold` from `dealerstats` where (`dealerstats`.`SalesDate` between '2023-01-09' and '2023-01-16');

/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;


-- phpMiniAdmin dump end
